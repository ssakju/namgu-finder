
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>담당자 구역 표시</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        #map {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
    <h1>담당자 구역 표시</h1>
    <input type="text" id="addressInput" placeholder="주소 입력">
    <button onclick="searchAddress()">검색</button>
    <div id="map"></div>
    <script src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=eet5fazq4q&submodules=geocoder"></script>
    <script>
        var map = new naver.maps.Map('map', {
            center: new naver.maps.LatLng(37.4559231,126.68426),
            zoom: 16
        });

        var areas = [{"name": "\ubc15\uc138\ud638", "name_lat": 37.4645245, "name_lng": 126.6762348, "points": [{"lat": 37.4656188, "lng": 126.6737404}, {"lat": 37.4638049, "lng": 126.6732254}, {"lat": 37.463277, "lng": 126.6750386}, {"lat": 37.4627064, "lng": 126.6749849}, {"lat": 37.4626808, "lng": 126.6770449}, {"lat": 37.4624424, "lng": 126.6769483}, {"lat": 37.4623828, "lng": 126.6775813}, {"lat": 37.4618037, "lng": 126.6775706}, {"lat": 37.4618037, "lng": 126.6778173}, {"lat": 37.4641115, "lng": 126.6779461}, {"lat": 37.4640008, "lng": 126.680403}, {"lat": 37.4638901, "lng": 126.6828813}, {"lat": 37.4637453, "lng": 126.6860463}, {"lat": 37.4644862, "lng": 126.6861215}]}, {"name": "\uc774\uc131\ud638", "name_lat": 37.4613566, "name_lng": 126.6791853, "points": [{"lat": 37.4618037, "lng": 126.6778173}, {"lat": 37.4641115, "lng": 126.6779461}, {"lat": 37.4640008, "lng": 126.680403}, {"lat": 37.4584227, "lng": 126.6801777}, {"lat": 37.4586016, "lng": 126.6778066}, {"lat": 37.4596917, "lng": 126.6778817}, {"lat": 37.4606881, "lng": 126.6777422}]}, {"name": "\uc720\uc6d0\uc11d", "name_lat": 37.4597215, "name_lng": 126.6772004, "points": [{"lat": 37.4606881, "lng": 126.6777422}, {"lat": 37.4607562, "lng": 126.6767552}, {"lat": 37.4597683, "lng": 126.6766157}, {"lat": 37.4587123, "lng": 126.6762295}, {"lat": 37.4586016, "lng": 126.6778066}, {"lat": 37.4596917, "lng": 126.6778817}]}, {"name": "\uc720\uc6d0\uc11d", "name_lat": 37.4594575, "name_lng": 126.68426, "points": [{"lat": 37.4610032, "lng": 126.6827419}, {"lat": 37.4608839, "lng": 126.6838255}, {"lat": 37.459879, "lng": 126.685864}, {"lat": 37.4580395, "lng": 126.685821}, {"lat": 37.4581161, "lng": 126.6850378}, {"lat": 37.4582694, "lng": 126.6826668}]}, {"name": "\uc591\uadc0\uc6c5", "name_lat": 37.4612459, "name_lng": 126.6815778, "points": [{"lat": 37.4640008, "lng": 126.680403}, {"lat": 37.4638901, "lng": 126.6828813}, {"lat": 37.4610032, "lng": 126.6827419}, {"lat": 37.4582694, "lng": 126.6826668}, {"lat": 37.4584227, "lng": 126.6801777}]}, {"name": "\uae40\uc8fc\ubaa9", "name_lat": 37.4622167, "name_lng": 126.6845819, "points": [{"lat": 37.4637453, "lng": 126.6860463}, {"lat": 37.4626127, "lng": 126.6860034}, {"lat": 37.459879, "lng": 126.685864}, {"lat": 37.4608839, "lng": 126.6838255}, {"lat": 37.4610032, "lng": 126.6827419}, {"lat": 37.4638901, "lng": 126.6828813}]}, {"name": "\uc815\uc724\ud638", "name_lat": 37.4635452, "name_lng": 126.6917916, "points": [{"lat": 37.4637453, "lng": 126.6860463}, {"lat": 37.4644862, "lng": 126.6861215}, {"lat": 37.4648056, "lng": 126.6938462}, {"lat": 37.4612416, "lng": 126.6973438}, {"lat": 37.4604241, "lng": 126.6955306}, {"lat": 37.4612076, "lng": 126.6949298}, {"lat": 37.4608754, "lng": 126.6942325}, {"lat": 37.4616674, "lng": 126.693696}, {"lat": 37.4614971, "lng": 126.6933312}, {"lat": 37.4626638, "lng": 126.6925909}, {"lat": 37.4627405, "lng": 126.6914108}, {"lat": 37.4622465, "lng": 126.6914537}, {"lat": 37.4619485, "lng": 126.6917004}, {"lat": 37.4614716, "lng": 126.6905203}, {"lat": 37.4615397, "lng": 126.6897693}, {"lat": 37.461957, "lng": 126.6897585}, {"lat": 37.4635835, "lng": 126.689898}]}, {"name": "\uae40\uc885\ub960", "name_lat": 37.4629491, "name_lng": 126.6880365, "points": [{"lat": 37.4635835, "lng": 126.689898}, {"lat": 37.461957, "lng": 126.6897585}, {"lat": 37.4620762, "lng": 126.6875055}, {"lat": 37.4625701, "lng": 126.6875269}, {"lat": 37.4626127, "lng": 126.6860034}, {"lat": 37.4637453, "lng": 126.6860463}]}, {"name": "\uae40\uc885\ub960", "name_lat": 37.4579075, "name_lng": 126.6930684, "points": [{"lat": 37.4606285, "lng": 126.6960242}, {"lat": 37.4598918, "lng": 126.6955467}, {"lat": 37.4591509, "lng": 126.6954019}, {"lat": 37.4588272, "lng": 126.6946723}, {"lat": 37.4574646, "lng": 126.6945007}, {"lat": 37.4574731, "lng": 126.6947689}, {"lat": 37.4560082, "lng": 126.6945221}, {"lat": 37.456664, "lng": 126.6936638}, {"lat": 37.4571495, "lng": 126.6921511}, {"lat": 37.457686, "lng": 126.6912391}, {"lat": 37.4578308, "lng": 126.6901877}]}, {"name": "\uc804\ubcf5\uc131", "name_lat": 37.4604539, "name_lng": 126.6878005, "points": [{"lat": 37.4626127, "lng": 126.6860034}, {"lat": 37.459879, "lng": 126.685864}, {"lat": 37.4580395, "lng": 126.685821}, {"lat": 37.4578691, "lng": 126.6894688}, {"lat": 37.4615397, "lng": 126.6897693}, {"lat": 37.461957, "lng": 126.6897585}, {"lat": 37.4620762, "lng": 126.6875055}, {"lat": 37.4625701, "lng": 126.6875269}]}, {"name": "\ubc15\ucca0\uc8fc", "name_lat": 37.4602239, "name_lng": 126.6919311, "points": [{"lat": 37.4578691, "lng": 126.6894688}, {"lat": 37.4615397, "lng": 126.6897693}, {"lat": 37.4614716, "lng": 126.6905203}, {"lat": 37.4619485, "lng": 126.6917004}, {"lat": 37.4622465, "lng": 126.6914537}, {"lat": 37.4627405, "lng": 126.6914108}, {"lat": 37.4626638, "lng": 126.6925909}, {"lat": 37.4614971, "lng": 126.6933312}, {"lat": 37.4616674, "lng": 126.693696}, {"lat": 37.4608754, "lng": 126.6942325}, {"lat": 37.4612076, "lng": 126.6949298}, {"lat": 37.4604241, "lng": 126.6955306}, {"lat": 37.4578308, "lng": 126.6901877}]}, {"name": "\uae40\uacbd\uc7ac", "name_lat": 37.4559231, "name_lng": 126.6825756, "points": [{"lat": 37.4581161, "lng": 126.6850378}, {"lat": 37.4573219, "lng": 126.684952}, {"lat": 37.4536661, "lng": 126.6848072}, {"lat": 37.4537768, "lng": 126.6799255}, {"lat": 37.4584227, "lng": 126.6801777}]}, {"name": "\ud64d\uc774\ud638", "name_lat": 37.4557698, "name_lng": 126.6871461, "points": [{"lat": 37.4581161, "lng": 126.6850378}, {"lat": 37.4573219, "lng": 126.684952}, {"lat": 37.4536661, "lng": 126.6848072}, {"lat": 37.4536214, "lng": 126.6862422}, {"lat": 37.4535788, "lng": 126.6896539}, {"lat": 37.4578691, "lng": 126.6894688}]}, {"name": "\uc774\uc724\uc2b9", "name_lat": 37.4525674, "name_lng": 126.6828545, "points": [{"lat": 37.451458, "lng": 126.6798263}, {"lat": 37.4510151, "lng": 126.6861027}, {"lat": 37.4536214, "lng": 126.6862422}, {"lat": 37.4537768, "lng": 126.6799255}]}, {"name": "\ucd5c\uc0c1\uc21c\ud6c4\uc784", "name_lat": 37.4540494, "name_lng": 126.6904398, "points": [{"lat": 37.4505467, "lng": 126.6926687}, {"lat": 37.4513729, "lng": 126.6927009}, {"lat": 37.4512877, "lng": 126.6942995}, {"lat": 37.4533659, "lng": 126.6944926}, {"lat": 37.4545157, "lng": 126.6949647}, {"lat": 37.4556399, "lng": 126.695072}, {"lat": 37.4560082, "lng": 126.6945221}, {"lat": 37.456664, "lng": 126.6936638}, {"lat": 37.4571495, "lng": 126.6921511}, {"lat": 37.457686, "lng": 126.6912391}, {"lat": 37.4578308, "lng": 126.6901877}, {"lat": 37.4578691, "lng": 126.6894688}, {"lat": 37.4535788, "lng": 126.6896539}, {"lat": 37.4536214, "lng": 126.6862422}, {"lat": 37.4510151, "lng": 126.6861027}]}, {"name": "\uae40\ud0dc\ud6c8", "name_lat": 37.4492371, "name_lng": 126.6711064, "points": [{"lat": 37.451705, "lng": 126.6746765}, {"lat": 37.4522672, "lng": 126.6675418}, {"lat": 37.4501719, "lng": 126.6671877}, {"lat": 37.4478211, "lng": 126.6679066}, {"lat": 37.4477678, "lng": 126.6686925}, {"lat": 37.4477252, "lng": 126.6690814}, {"lat": 37.4466137, "lng": 126.6709026}, {"lat": 37.4454212, "lng": 126.6713318}, {"lat": 37.4451912, "lng": 126.6721901}, {"lat": 37.4446631, "lng": 126.6722222}, {"lat": 37.4447056, "lng": 126.6732308}, {"lat": 37.4456171, "lng": 126.6732308}, {"lat": 37.4458811, "lng": 126.6731771}, {"lat": 37.4466988, "lng": 126.672748}, {"lat": 37.4474654, "lng": 126.6726407}, {"lat": 37.4485302, "lng": 126.6727265}, {"lat": 37.4484109, "lng": 126.6743466}]}, {"name": "\uc804\uc601\uc77c", "name_lat": 37.4474825, "name_lng": 126.6744431, "points": [{"lat": 37.4467925, "lng": 126.6698083}, {"lat": 37.4452678, "lng": 126.6706558}, {"lat": 37.4448079, "lng": 126.6707846}, {"lat": 37.4438453, "lng": 126.6724046}, {"lat": 37.4440838, "lng": 126.6754302}, {"lat": 37.4454637, "lng": 126.6752907}, {"lat": 37.4454126, "lng": 126.6756018}, {"lat": 37.4483172, "lng": 126.6755589}, {"lat": 37.4516369, "lng": 126.6759103}, {"lat": 37.451705, "lng": 126.6746765}, {"lat": 37.4484109, "lng": 126.6743466}, {"lat": 37.4485302, "lng": 126.6727265}, {"lat": 37.4474654, "lng": 126.6726407}, {"lat": 37.4466988, "lng": 126.672748}, {"lat": 37.4458811, "lng": 126.6731771}, {"lat": 37.4456171, "lng": 126.6732308}, {"lat": 37.4447056, "lng": 126.6732308}, {"lat": 37.4446631, "lng": 126.6722222}, {"lat": 37.4451912, "lng": 126.6721901}, {"lat": 37.4454212, "lng": 126.6713318}, {"lat": 37.4466137, "lng": 126.6709026}, {"lat": 37.4477252, "lng": 126.6690814}, {"lat": 37.4477678, "lng": 126.6686925}]}, {"name": "\uac00\ub78c", "name_lat": 37.4483087, "name_lng": 126.6789707, "points": [{"lat": 37.4480106, "lng": 126.6793998}, {"lat": 37.4483172, "lng": 126.6755589}, {"lat": 37.4516369, "lng": 126.6759103}, {"lat": 37.451458, "lng": 126.6798263}, {"lat": 37.4480617, "lng": 126.6797002}, {"lat": 37.4479424, "lng": 126.6812237}, {"lat": 37.4449356, "lng": 126.6811272}, {"lat": 37.444859, "lng": 126.6809984}, {"lat": 37.4441349, "lng": 126.6809448}, {"lat": 37.4427209, "lng": 126.6807839}, {"lat": 37.4423887, "lng": 126.6804834}, {"lat": 37.4420735, "lng": 126.6796788}, {"lat": 37.4417669, "lng": 126.6796144}, {"lat": 37.4418946, "lng": 126.6784879}, {"lat": 37.4444075, "lng": 126.6787668}]}, {"name": "\uc774\uc740\uc900", "name_lat": 37.4461452, "name_lng": 126.6772433, "points": [{"lat": 37.4440838, "lng": 126.6754302}, {"lat": 37.4454637, "lng": 126.6752907}, {"lat": 37.4454126, "lng": 126.6756018}, {"lat": 37.4483172, "lng": 126.6755589}, {"lat": 37.4480106, "lng": 126.6793998}, {"lat": 37.4444075, "lng": 126.6787668}]}, {"name": "\uae40\uc9c4\uc0c1", "name_lat": 37.4495352, "name_lng": 126.6837665, "points": [{"lat": 37.4481383, "lng": 126.6873821}, {"lat": 37.4495352, "lng": 126.6872533}, {"lat": 37.4509044, "lng": 126.6874545}, {"lat": 37.451458, "lng": 126.6798263}, {"lat": 37.4480617, "lng": 126.6797002}, {"lat": 37.4479424, "lng": 126.6812237}, {"lat": 37.4479254, "lng": 126.6834017}]}, {"name": "\uc1a1\ubcd1\uc12d", "name_lat": 37.4452508, "name_lng": 126.6858479, "points": [{"lat": 37.4418606, "lng": 126.6820069}, {"lat": 37.4410172, "lng": 126.6816529}, {"lat": 37.4408895, "lng": 126.6823503}, {"lat": 37.4413495, "lng": 126.6843887}, {"lat": 37.4426442, "lng": 126.6853114}, {"lat": 37.4419969, "lng": 126.6886159}, {"lat": 37.4433257, "lng": 126.6903325}, {"lat": 37.4416902, "lng": 126.6922423}, {"lat": 37.4418606, "lng": 126.6928216}, {"lat": 37.4437005, "lng": 126.6908475}, {"lat": 37.4454212, "lng": 126.6900536}, {"lat": 37.4483002, "lng": 126.6899463}, {"lat": 37.4481383, "lng": 126.6873821}, {"lat": 37.4479254, "lng": 126.6834017}, {"lat": 37.4479424, "lng": 126.6812237}, {"lat": 37.4449356, "lng": 126.6811272}, {"lat": 37.444859, "lng": 126.6809984}, {"lat": 37.4441349, "lng": 126.6809448}, {"lat": 37.4427209, "lng": 126.6807839}, {"lat": 37.4423887, "lng": 126.6804834}, {"lat": 37.4420735, "lng": 126.6796788}]}, {"name": "\uc7a5\ud6a8\uc9c4", "name_lat": 37.4488112, "name_lng": 126.6905256, "points": [{"lat": 37.4465455, "lng": 126.6924515}, {"lat": 37.446422, "lng": 126.6925963}, {"lat": 37.4467287, "lng": 126.6933312}, {"lat": 37.4466307, "lng": 126.6934653}, {"lat": 37.4469203, "lng": 126.6938784}, {"lat": 37.4471673, "lng": 126.6941359}, {"lat": 37.4475378, "lng": 126.6941091}, {"lat": 37.4477295, "lng": 126.6938838}, {"lat": 37.447951, "lng": 126.6934412}, {"lat": 37.4481511, "lng": 126.6928377}, {"lat": 37.4485046, "lng": 126.6930308}, {"lat": 37.4492201, "lng": 126.6932132}, {"lat": 37.449861, "lng": 126.69335}, {"lat": 37.44991, "lng": 126.6925775}, {"lat": 37.4505467, "lng": 126.6926687}, {"lat": 37.4509044, "lng": 126.6874545}, {"lat": 37.4495352, "lng": 126.6872533}, {"lat": 37.4481383, "lng": 126.6873821}, {"lat": 37.4483002, "lng": 126.6899463}, {"lat": 37.4454212, "lng": 126.6900536}, {"lat": 37.4454382, "lng": 126.6912123}]}, {"name": "\uc2ec\uaddc\uc138", "name_lat": 37.4447567, "name_lng": 126.6923281, "points": [{"lat": 37.4421161, "lng": 126.6931703}, {"lat": 37.4430531, "lng": 126.694329}, {"lat": 37.443939, "lng": 126.6931703}, {"lat": 37.4455149, "lng": 126.6949298}, {"lat": 37.4466307, "lng": 126.6934653}, {"lat": 37.4467287, "lng": 126.6933312}, {"lat": 37.446422, "lng": 126.6925963}, {"lat": 37.4465455, "lng": 126.6924515}, {"lat": 37.4454382, "lng": 126.6912123}, {"lat": 37.4454212, "lng": 126.6900536}, {"lat": 37.4437005, "lng": 126.6908475}, {"lat": 37.4418606, "lng": 126.6928216}]}, {"name": "\uae40\ubbfc\ud604", "name_lat": 37.4403017, "name_lng": 126.6806766, "points": [{"lat": 37.4395009, "lng": 126.677753}, {"lat": 37.4393135, "lng": 126.6793086}, {"lat": 37.4389728, "lng": 126.6791906}, {"lat": 37.4383424, "lng": 126.6812291}, {"lat": 37.438632, "lng": 126.6812506}, {"lat": 37.4385554, "lng": 126.6821947}, {"lat": 37.4384361, "lng": 126.6891684}, {"lat": 37.4380016, "lng": 126.6892114}, {"lat": 37.4375842, "lng": 126.6891684}, {"lat": 37.4372946, "lng": 126.6886749}, {"lat": 37.4372477, "lng": 126.6878381}, {"lat": 37.4368047, "lng": 126.6878327}, {"lat": 37.436234, "lng": 126.6873821}, {"lat": 37.4331543, "lng": 126.6873606}, {"lat": 37.4334354, "lng": 126.6981538}, {"lat": 37.4387768, "lng": 126.6949996}, {"lat": 37.4418606, "lng": 126.6928216}, {"lat": 37.4416902, "lng": 126.6922423}, {"lat": 37.4433257, "lng": 126.6903325}, {"lat": 37.4419969, "lng": 126.6886159}, {"lat": 37.4426442, "lng": 126.6853114}, {"lat": 37.4413495, "lng": 126.6843887}, {"lat": 37.4408895, "lng": 126.6823503}, {"lat": 37.4410172, "lng": 126.6816529}, {"lat": 37.4418606, "lng": 126.6820069}, {"lat": 37.4420735, "lng": 126.6796788}, {"lat": 37.4417669, "lng": 126.6796144}, {"lat": 37.4418946, "lng": 126.6784879}]}, {"name": "\uae40\uc6a9\uc6b1", "name_lat": 37.4370049, "name_lng": 126.6797968, "points": [{"lat": 37.4362467, "lng": 126.6757949}, {"lat": 37.4346111, "lng": 126.6815349}, {"lat": 37.4361701, "lng": 126.6823073}, {"lat": 37.4357697, "lng": 126.6830584}, {"lat": 37.436383, "lng": 126.6833802}, {"lat": 37.4375501, "lng": 126.6834983}, {"lat": 37.4377716, "lng": 126.6811916}, {"lat": 37.4383424, "lng": 126.6812291}, {"lat": 37.4389728, "lng": 126.6791906}, {"lat": 37.4393135, "lng": 126.6793086}, {"lat": 37.4395009, "lng": 126.677753}]}, {"name": "\ubc15\uc900\ubc30", "name_lat": 37.4355908, "name_lng": 126.6847857, "points": [{"lat": 37.4333247, "lng": 126.6859444}, {"lat": 37.4331543, "lng": 126.6873606}, {"lat": 37.436234, "lng": 126.6873821}, {"lat": 37.4368047, "lng": 126.6878327}, {"lat": 37.4372477, "lng": 126.6878381}, {"lat": 37.4375501, "lng": 126.6834983}, {"lat": 37.436383, "lng": 126.6833802}, {"lat": 37.4357697, "lng": 126.6830584}, {"lat": 37.4361701, "lng": 126.6823073}, {"lat": 37.4346111, "lng": 126.6815349}]}, {"name": "\uc804\uc131\uc624", "name_lat": 37.4378483, "name_lng": 126.6854402, "points": [{"lat": 37.4377716, "lng": 126.6811916}, {"lat": 37.4375501, "lng": 126.6834983}, {"lat": 37.4372477, "lng": 126.6878381}, {"lat": 37.4372946, "lng": 126.6886749}, {"lat": 37.4375842, "lng": 126.6891684}, {"lat": 37.4380016, "lng": 126.6892114}, {"lat": 37.4384361, "lng": 126.6891684}, {"lat": 37.4385554, "lng": 126.6821947}, {"lat": 37.438632, "lng": 126.6812506}, {"lat": 37.4383424, "lng": 126.6812291}]}, {"name": "\uc804\uc131\uc624", "name_lat": 37.4420054, "name_lng": 126.6978749, "points": [{"lat": 37.4389046, "lng": 126.6967591}, {"lat": 37.4389046, "lng": 126.701115}, {"lat": 37.4393306, "lng": 126.7015763}, {"lat": 37.4394157, "lng": 126.7024346}, {"lat": 37.4431639, "lng": 126.7029389}, {"lat": 37.443956, "lng": 126.6988727}, {"lat": 37.444876, "lng": 126.6957613}, {"lat": 37.4455149, "lng": 126.6949298}, {"lat": 37.443939, "lng": 126.6931703}, {"lat": 37.4430531, "lng": 126.694329}, {"lat": 37.4421161, "lng": 126.6931703}, {"lat": 37.4418606, "lng": 126.6928216}, {"lat": 37.4387768, "lng": 126.6949996}]}];

        areas.forEach(function(area) {
            var polygon = new naver.maps.Polygon({
                map: map,
                paths: area.points.map(function(point) {
                    return new naver.maps.LatLng(point.lat, point.lng);
                }),
                strokeColor: '#FF0000',
                strokeOpacity: 0.8,
                strokeWeight: 2,
                fillColor: '#FF0000',
                fillOpacity: 0.1
            });

            var marker = new naver.maps.Marker({
                position: new naver.maps.LatLng(area.name_lat, area.name_lng),
                map: map,
                icon: {
                    content: '<div style="background-color: white; border: 1px solid red; padding: 2px 5px;">' + area.name + '</div>',
                    anchor: new naver.maps.Point(15, 15)
                }
            });
        });
        
        var currentMarker = null; // 전역 변수로 현재 마커를 추적

        function searchAddress() {
            var address = document.getElementById('addressInput').value;
            if (address.trim() === '') {
                alert('주소를 입력하세요.');
                return;
            }

            naver.maps.Service.geocode({
                address: address
            }, function(status, response) {
                if (status === naver.maps.Service.Status.ERROR) {
                    alert('주소를 찾을 수 없습니다.');
                    return;
                }

                var result = response.result;
                var locations = result.items;

                if (locations.length === 0) {
                    alert('주소를 찾을 수 없습니다.');
                } else {                
                    var firstLocation = locations[0];
                    var latlng = new naver.maps.LatLng(firstLocation.point.y, firstLocation.point.x);
                    map.setCenter(latlng);

                    // 주소가 속한 구역 찾기
                    var foundArea = findArea(latlng);

                    // 기존 마커 제거
                    if (currentMarker) {
                        currentMarker.setMap(null);
                    }

                    // 새로운 마커 생성
                    currentMarker = new naver.maps.Marker({
                        position: latlng,
                        map: map
                    });
                    
                    if (foundArea) {
                        alert(foundArea.name + ' 님 구역입니다.');
                    } else {
                        alert('해당 주소의 구역을 찾을 수 없습니다.');
                    }
                }
            });
        }
        
        function findArea(latlng) {
            for (var i = 0; i < areas.length; i++) {
                var points = areas[i].points;
                var polygonPaths = points.map(function(point) {
                    return { lat: point.lat, lng: point.lng };
                });
                
                var isInside = isPointInsidePolygon({ lat: latlng.lat(), lng: latlng.lng() }, polygonPaths);
                if (isInside) {
                    return areas[i];
                }
                
            }
            return null;
        }

        function isPointInsidePolygon(point, polygonPaths) {
            var x = point.lat, y = point.lng;
            var inside = false;
            for (var i = 0, j = polygonPaths.length - 1; i < polygonPaths.length; j = i++) {
                var xi = polygonPaths[i].lat, yi = polygonPaths[i].lng;
                var xj = polygonPaths[j].lat, yj = polygonPaths[j].lng;
                
                var intersect = ((yi > y) != (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);
                if (intersect) inside = !inside;
            }
            return inside;
        }

    </script>
</body>
</html>
